function md5(message:string):string{let buffer=new Uint32Array(4);buffer[0]=0x67452301;buffer[1]=0xefcdab89;buffer[2]=0x98badcfe;buffer[3]=0x10325476;let constants=new Uint32Array([0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6]);let bitLength=message.length*8;let paddedMessage=padMessage(message,bitLength);let chunks=chunkMessage(paddedMessage);for(let chunk of chunks){let words=new Uint32Array(16);for(let i=0;i<16;i++){words[i]=chunk[i*4]|(chunk[i*4+1]<<8)|(chunk[i*4+2]<<16)|(chunk[i*4+3]<<24);}let[a,b,c,d]=buffer;for(let i=0;i<64;i++){let f:number;let g:number;if(i<16){f=(b&c)|(~b&d);g=i;}else if(i<32){f=(d&b)|(~d&c);g=(5*i+1)%16;}else if(i<48){f=b^c^d;g=(3*i+5)%16;}else{f=c^(b|~d);g=(7*i)%16;}let temp=d;d=c;c=b;b=b+rotateLeft((a+f+words[g]+constants[Math.floor(i/16)]),shiftAmounts[i]);a=temp;}buffer[0]+=a;buffer[1]+=b;buffer[2]+=c;buffer[3]+=d;}let digest=new Uint8Array(16);for(let i=0;i<4;i++){digest[i*4]=buffer[i]&0xff;digest[i*4+1]=(buffer[i]>>8)&0xff;digest[i*4+2]=(buffer[i]>>16)&0xff;digest[i*4+3]=(buffer[i]>>24)&0xff;}return bytesToHex(digest);}function padMessage(message:string,bitLength:number):Uint8Array{let paddedLength=((bitLength+64)>>>9<<4)+15;let paddedMessage=new Uint8Array(paddedLength+1);for(let i=0;i<message.length;i++){paddedMessage[i]=message.charCodeAt(i);}paddedMessage[message.length]=0x80;for(let i=message.length+1;i<paddedLength;i++){paddedMessage[i]=0x00;}paddedMessage[paddedLength]=bitLength&0xff;paddedMessage[paddedLength+1]=(bitLength>>8)&0xff;paddedMessage[paddedLength+2]=(bitLength>>16)&0xff;paddedMessage[paddedLength+3]=(bitLength>>24)&0xff;return paddedMessage;}function chunkMessage(message:Uint8Array):Uint8Array[]{let chunks=[];for(let i=0;i<message.length;i+=64){chunks.push(message.subarray(i,i+64));}return chunks;}function rotateLeft(value:number,shift:number):number{return(value<<shift)|(value>>>(32-shift));}function bytesToHex(bytes:Uint8Array):string{let hexChars=[];for(let i=0;i<bytes.length;i++){let hex=bytes[i].toString(16);hexChars.push(hex.length===1?"0"+hex:hex);}return hexChars.join("");}

console.log(md5("gay"))

